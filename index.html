<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>











<head>
<title>FreeIPA Identity Management planet - technical blogs</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="generator" content="Planet/2.0 +http://www.planetplanet.org">
<link rel="stylesheet" href="planet.css" type="text/css">
<link rel="alternate" href="http://planet.freeipa.org/atom.xml" title="" type="application/atom+xml">
</head>

<body>
<h1><a href="http://www.freeipa.org/"><img src="images/logo.png" width="220" height="68" alt=""></a>FreeIPA Identity Management planet - technical blogs</h1>

<div class="daygroup">
<h2>August 23, 2023</h2>

<div class="channelgroup">







<h3><a href="https://floblanc.wordpress.com" title="FreeIPA – Florence Blanc-Renaud's technical spot">Florence Blanc-Renaud</a></h3>


<div class="entrygroup" id="http://floblanc.wordpress.com/?p=1730" lang="en">
<h4><a href="">Interoperability of RHEL 7/8/9 IdM server and RHEL 7/8/9 IdM client</a></h4>
<div class="entry">
<div class="content">
As their IdM deployment expands over time with the addition of new IdM clients or new IdM servers and replicas, customers often have a mixed topology containing various RHEL versions. This blog post describes the version requirements and limitations that can be seen in these mixed topologies. General version requirements In the general case, it &#8230; <a href="https://floblanc.wordpress.com/2023/08/23/interoperability-of-rhel-7-8-9-idm-server-and-rhel-7-8-9-idm-client/" class="more-link">Continue reading <span class="screen-reader-text">Interoperability of RHEL 7/8/9 IdM server and RHEL 7/8/9 IdM client</span> <span class="meta-nav">&#8594;</span></a></div>







<p class="date">
<a href="">by floblanc at August 23, 2023 09:34 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>August 16, 2023</h2>

<div class="channelgroup">







<h3><a href="https://vda.li/en/" title="Far away to be identical">Alexander Bokovoy</a></h3>


<div class="entrygroup" id="https://vda.li/en/posts/2023/08/16/Support-multi-homed-FreeIPA-Server/">
<h4><a href="https://vda.li/en/posts/2023/08/16/Support-multi-homed-FreeIPA-Server/">Multi-homed FreeIPA server investigation</a></h4>
<div class="entry">
<div class="content">
<p>Once in a while people come and ask for FreeIPA servers to work in multi-homed
environments. A multi-homed environment in this context is a deployment where
the same server is accessible through multiple network interfaces which connect
together networks which are not routable to each other. This is typical for
administrative and operational networks but there are other types of
environments which employ disconnected networks for their operations. FreeIPA
server right now has a single host name that resolves to the same IP address in
all networks and if one cannot reach the server through that IP address, access
to IPA server would not be possible. This typically assumes use of unicast
networking as well.</p>

<p>A solution many people look for is to be able to access IPA servers by their
interface-specific addresses. Since all secure communication over HTTPS and other
protocols (LDAP, Kerberos, etc.) uses name-based resolution in the first place,
use of different host names is implied. For example, if FreeIPA is deployed at
DNS domain <code>example.test</code>, it would be using Kerberos realm <code>EXAMPLE.TEST</code> and
then the original IPA server would be deployed at a host named
<code>ipa.example.test</code> (the server host name is not that important here, rather the
fact that is is an individual host name). Let’s look at possible communications
with this server in a non-multihomed environment first.</p>

<h2 id="single-homed-environment">Single-homed environment</h2>

<p>An IPA client uses HTTPS to communicate with IPA management API, SSSD on the
IPA client would use LDAP(S) and Kerberos protocols. In both HTTPS and LDAP(S)
cases TLS negotiation would force checking server TLS certificate correctness.
A hostname of the host we connect to (<code>ipa.example.test</code>) would have to be
present as a dNS SAN record in the TLS certificate presented by the IPA server.</p>

<p>In Kerberos protocol case a different mechanism is used. Yet, Kerberos KDC must
know the name of the service principal that a client is asking a service ticket
for. If the client wants to acquire a service ticket to
<code>ldap/ipa.example.test@EXAMPLE.TEST</code>, this service principal must exist in the
Kerberos database that KDC is looking up at.</p>

<h2 id="multi-homed-environment">Multi-homed environment</h2>

<p>There are multiple ways of exposing a single hostname in multi-homed
environment but they generally involve use of DNS views specific to the
individual networking. In such cases DNS serves visible to clients in one
network would resolve <code>ipa.example.test</code> to an IP address in that specific
network. FreeIPA DNS integration does not support DNS views; this means any of
DNS manipulations would have to be done externally to FreeIPA. This is, of
course possible, but it really is not then different from a single-homed
environment from FreeIPA perspective.</p>

<p>Thus, we would have to have not a single <code>ipa.example.test</code> hostname but for
each independent network’s address present on the IPA server a different host
name must be present. Let’s assume these are <code>ipa1.example.test</code> and
<code>ipa2.example.test</code>. Had we not done this split and simply added multiple
addresses for the same <code>ipa.example.test</code> name, clients might resolve the name
to an IP address which they could not reach through their own networking routing.</p>

<h2 id="requirements">Requirements</h2>

<p>Immediately we get a set of requirements here:</p>

<ul>
  <li>
    <p>TLS certificates issued by IPA CA for HTTPS and LDAP(S) use on IPA server
must include dNS SAN records for each hostname represented by the
multi-homed server.</p>
  </li>
  <li>
    <p>Kerberos principals for at least LDAP (<code>ldap/</code>), HTTP (<code>HTTP/</code>), and the
system (<code>host/</code>) service principals must have aliases for all multi-homed
hostnames.</p>
  </li>
</ul>

<p>The latter requirement means that if <code>ipa1.example.test</code> is the primary name,
then <code>ldap/ipa1.example.test</code> should have an alias of <code>ldap/ipa2.example.test</code>,
<code>HTTP/ipa1.example.test</code> should have an alias of <code>HTTP/ipa2.example.test</code>, and
<code>host/ipa1.example.test</code> should have an alias of <code>host/ipa2.example.test</code>.</p>

<p>The same would apply to any other service hosted on IPA server: SMB (<code>cifs/..</code>)
or DNS services would need those aliases as well. However, this is not enough.</p>

<h2 id="implementation-considerations">Implementation considerations</h2>

<h3 id="hostname-aliases">Hostname aliases</h3>
<p>FreeIPA does additional checks when issuing certificiates prior to passing the
request to the Dogtag CA that is integrated into FreeIPA. For hosts and
services on those hosts we also check whether a requestor is granted to issue
these certificates. In FreeIPA terms, a host <code>ipa1.example.test</code> would be
allowed to issue certificates with dNS SAN record of <code>ipa2.example.test</code> if a
host object of <code>ipa1.example.test</code> manages the host object <code>ipa2.example.test</code>
in FreeIPA.</p>

<p>Here lies our first problem. A host object in FreeIPA represents the host
principal in Kerberos, <code>host/ipa1.example.test</code>. If we created two host
objects, <code>ipa1.example.test</code> and <code>ipa2.example.test</code>, then they cannot be
aliases to each other on Kerberos level because they’d be two completely
different objects from FreeIPA perspective.</p>

<p>Perhaps, we can avoid creating two different host objects? DNS records for
hosts are different from the host objects themselves, we only need to have
different IP addresses for the hostnames represented by these host entries, not
the host entries themselves. May be we could mark one hostname an alias of the
other host object?</p>

<p>On Kerberos level FreeIPA does have Kebreros principal name aliasing already.
However, it does not exist for hosts as this task has never appeared in past. We
would need to add a way to add multiple names to the host object. One way to
achieve that is to rely on the fact that <code>fqdn</code> LDAP attribute is multi-valued.
Unfortunately, it is also enforced to be a primary key in IPA API – while the
underlying LDAP attribute is a multi-valued one, IPA API will enforce its single
value:</p>

<pre><code class="language-shell">$ ipa host-mod ipa1.example.test --addattr fqdn=ipa2.example.test
ipa: ERROR: fqdn: Only one value allowed.
</code></pre>

<p>This happens because in IPA API any parameter which could be a multi-valued one
should explicitly set <code>multivalue=True</code> in its definition. We probably would
need to change the multi-valued state for <code>fqdn</code> parameter:</p>

<pre><code class="language-python">...
        Str('fqdn', hostname_validator,
            cli_name='hostname',
            label=_('Host name'),
            primary_key=True,
            normalizer=normalize_hostname,
&gt;&gt;&gt;&gt;&gt;&gt;      multivalue=True,
        ),
...
</code></pre>

<p>and review countless places where its single value is assumed through the code,
like in the <code>resolve_fqdn()</code> helper below. LDAP does not guarantee a particular
order of returned values for the multi-valued attributes. From LDAP protocol
point of view they all equal, there is no particular order.</p>

<pre><code class="language-python">def resolve_fqdn(name):
    hostentry = api.Command['host_show'](name)['result']
    return hostentry['fqdn'][0]
</code></pre>

<p>An alternative would be to introduce a separate attribute purely for the
hostname alias management. We don’t need to use it anywhere else at Kerberos
level because there we use Kerberos-specific attributes to handle Kerberos
principal names and aliases.</p>

<h3 id="ldap-access-controls">LDAP Access Controls</h3>

<p>A big part of the FreeIPA access control mechanism relies on 389-ds LDAP server
access control interface. Permissions and roles in FreeIPA effectively define a
set of ACIs for 389-ds to check access rights. IPA servers verified to be
present in certain resource groups (like <code>cn=masters,cn=ipa,cn=etc,$BASEDN</code>).
For host aliases this means they should be present in the same groups to be able
to operate as their own entities when checking permissions. This is important
for internal logic in IPA LDAP plugins and in KDC driver. For the cases when
authentication would be done via GSSAPI a resulting Kerberos principal will be
normalized to he primary name of the system anyway.</p>

<h3 id="certificate-issuance">Certificate issuance</h3>

<p>Issuing a certificate is a whole separate topic which still awaits its write
up. An abridged version of it can be found in <a href="https://lists.fedorahosted.org/archives/list/freeipa-users@lists.fedorahosted.org/message/7NAZ2AT7FXXVBL42DTKJHCUQNOJBZB27/">my freeipa-users@ mailing list
response</a>
from May 2022. I need to turn that into a proper document one day.</p>

<p>From the perspective of aliases, we would need to teach the certificate request
processing code to look at the host and service aliases when validating SAN
records.</p>

<h3 id="installer-integration">Installer integration</h3>

<p>There are two approaches to setting up this multi-homed environment. We can
provide all information upfront or we can add a tool that adds individual
aliases after deployment. This would mean to (re-)generate certificates, create
host aliases and services, create configuration snippets and other details which
are required to handle multiple host names for the same host from different
networks.</p>

<p>The after-deployment case would cause re-issuance of certificates. For external
CA providers it could be handled with existing tool that allows to replace
existing TLS certificates with externally provided ones. We need to create a
checker to verify that all required dNS SAN names were added and are available.
In general, troubleshooting this environment would be non-trivial so a special
module for <code>ipa-healthcheck</code> definitely would help.</p>

<h2 id="final-thoughts">Final thoughts</h2>

<p>Multi-homed environments are hard to automate as many assumptions aren’t
actually known to us. They are partly implicit to system and network
administrator’s work and cannot be derived merely from the system state. It
means administrators would need to aid IPA installers with an information. At
this point, it is unclear how to structure this information and which of it
going to be useful enough. In contemporary Linux environments you might have
DNS resolution depend on a specific network interface thanks to
<code>systemd-resolved</code> or VPN connection properties. We might not have that
information for introspection in advance. While automatically issuing
certificates with required names to cover multi-homed setup is not going to be
easy, writing down requirements for external CAs and verifying those
certificates before applying them at the second stage of external CA enrollment
would further complicate things.</p>

<p>All these problems could be solved, of course. Prioritization of this work
against other, more urging tasks, is what we need to figure first…</p></div>







<p class="date">
<a href="https://vda.li/en/posts/2023/08/16/Support-multi-homed-FreeIPA-Server/">August 16, 2023 07:04 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>August 11, 2023</h2>

<div class="channelgroup">







<h3><a href="https://vda.li/en/" title="Far away to be identical">Alexander Bokovoy</a></h3>


<div class="entrygroup" id="https://vda.li/en/posts/2023/08/11/Flock-report/">
<h4><a href="https://vda.li/en/posts/2023/08/11/Flock-report/">Flock to Fedora 2023 report</a></h4>
<div class="entry">
<div class="content">
<p>On August 2nd-4th, 2023, Fedora Project ran its annual contributors conference, <a href="https://flocktofedora.org">Flock to Fedora</a>, in Cork, Ireland. After a previous successful Flock in 2019 in Budapest, Fedora contributors did not meet in person due to rough pandemia years and had created Nest with Fedora online event instead. Nest ran for three years but online meetings aren’t a full replacement for face to face collaboration. Cork’s Flock was supposed to combine both online and offline events together.</p>

<p>I have been attending and presenting at various Flock and Nest events over past seven years. I was looking forward to see and collaborate with many other project participants and users and get to know new people as well.</p>

<p>My travel to Cork was unremarkable. I took a direct flight from Helsinki to Dublin and then an Aircoach bus to Cork. The ‘unremarkable’ part was really about the unexpected delays people did report over the Matrix channel. The only ‘trouble’ I had was to catch a taxi at 11pm after arrival to Cork to get to my B&amp;B. The Aircoach bus from Dublin airport is very popular in summer and whatever taxi fleet is in Cork was DDoSed by the passengers.</p>

<p><img src="https://vda.li/en/img/resized/2023-flock/hotel-stay-800-480d673e0.jpg" /></p>

<p>Cork is hilly. I stayed in excellent B&amp;B across the road from the conference hotel. The hotel and its conference facilities are in separate buildings; the events building is up hill from the hotel. Walking is helpful, climbing harder but given we are sitting most of the time, was a welcoming ‘struggle’. Perhaps, my stay outside of the conference hotel has also helped to avoid COVID-19 which few other participants, sadly, contracted. It is hit or miss every time.</p>

<p>Unfortunately, not everyone made to Cork. <a href="https://sfconservancy.org/news/2022/jun/14/remembering-marina/">Marina Zhurakhinskaya</a> passed away in June 2022. <a href="https://funnelfiasco.com/blog/2023/05/12/inaction-bcotton/">Ben Cotton</a>, Fedora Program Manager, has been let go as a part of Red Hat’s layoffs earlier this year. Both had definitely changed Fedora project dramatically, in many ways, both leading to openness and friendliness Fedora is known for. Many presenters remembered both Marina and Ben during their sessions.</p>

<p>2023’s edition of Flock to Fedora was also the first Fedora Project’s event collocated with CentOS Connect. As a result, it brought together Red Hat Enterprise Linux distribution upstreams and downstreams together.</p>

<h2 id="talks">Talks</h2>

<p>In total, there were up to four parallel tracks, dedicated to different areas of a distribution development and a project’s life and spanned over three days. That, unsurprisingly, made it challenging to visit all talks and activities. It is a common trait shared by many successful events. And for those who wanted to continue discussions after a talk has ended, there is always a ‘hallway track’.</p>

<h3 id="state-of-fedora-2023">State of Fedora 2023</h3>
<p>The first talk was ‘State of Fedora 2023’ by the project leader, Matthew Miller. Recording is available <a href="https://www.youtube.com/live/LhLEV4fi2xw?feature=share&t=21327">here</a>. I am linking to the re-take of the talk as the original streaming was off by 20 minutes and Matthew had to reprise it again.</p>

<p><img src="https://vda.li/en/img/resized/2023-flock/state-of-fedora-800-4a2f915c0.jpg" /></p>

<p>A major announcement made during the talk was a hiring one. <a href="https://communityblog.fedoraproject.org/job-posting-fedora-operations-architect/">Fedora Operations Architect role</a> has been introduced after a program manager role that Ben Cotton so masterfully executed was eliminated. Hopefully, this new role will be filled soon and will allow to capture the same benefits that Ben brought to Fedora. The role is a bit different, though, as it is focused on cross-project and cross-distro impact across Fedora and RHEL.</p>

<p>Fedora contributors’ survey results were also unveiled by Matthew in the talk. In general, contributors keep trust in the project and continue their participation at the pre-pandemia levels. Recent social networking turmoil around Red Hat actions hasn’t influenced the results too much. The screenshots below are from the video stream as the talk’s slides aren’t yet available.</p>

<p><img src="https://vda.li/en/img/resized/2023-flock/state-of-fedora-stats-1-800-17d2108e9.png" /></p>

<p><img src="https://vda.li/en/img/resized/2023-flock/state-of-fedora-stats-2-800-ba2fcdd53.png" /></p>

<p>The talk went into details on what Matthew and Fedora Council aim for Fedora Project’s future. Growing a project with thousands of contributors spread around the world and representing different cultures is hard. A lot of effort is put into making Fedora a welcoming place to everyone who is willing to work together towards a common goal.</p>

<h3 id="rpminspect-lessons-from-three-distributions"><code>rpminspect</code>: Lessons from three distributions</h3>

<p>David Cantrell created and maintains a tool that helps RHEL maintainers to keep their packages sane over years of maintenance. It is run as a part of CentOS Stream merge request process, as part of Fedora gating and pull request testing, and as a gating test for RHEL.</p>

<p>The talk itself is an excellent retrospective on what one should consider when creating a new Open Source project while working on it full time. David provided observations on how to sell the idea to your management, how to get people interested in becoming a community for your project, how to sustain development in a long run. This is one of rare gems of a ‘lone wolf’ maintainership stories that everybody needs to absorb when they start their new journey. Believe me, it is worth it.</p>

<p><img src="https://vda.li/en/img/resized/2023-flock/rpminspect-1-800-b79dc5331.jpg" /></p>

<h3 id="using-aiml-to-process-automated-test-results-from-openqa">Using AI/ML to process automated test results from OpenQA</h3>

<p>Tim Flink from Fedora QE team decided to apply AI/ML to a problem of identifying hanging or failing jobs in OpenQA. OpenQA runs full-VM tests and records screencasts of everything what is shown on a VM screen. A crash of a graphical environment is abruptly visible there as graphics would be replaced by a terminal with a Wayland’s stacktrace. What followed is an experiment on processing these screens to reliably detect a particular type of a crash.</p>

<p>We spent some time with Tim discussing how these experiments can be applied to finding out possible issues in other system reports. Since Fedora is upstream of CentOS Stream or RHEL, it means certain issues – and their fixes – would often appear in Fedora first. If we could train a model on those issues in Fedora, can we detect automatically whether a particular fix is required in RHEL later? This is quite relevant to FreeIPA and SSSD as we do run their tests in OpenQA as a part of Fedora Server release criteria.</p>

<p>Another possible use case is to do a reverse training. Since we do know how a potential failure could look like, we can intentionally build an OpenQA test environment that would reproduce the failure and then train a model to recognize logs from such failures in real life scenarios. For example, establishing trust to Active Directory in FreeIPA is reliant on a working DNS setup, working firewall, etc. Failure to communicate through an incomplete firewall would be reflected with timeouts in the logs which we could train to recognize. There are endless possibilities here to aid through <em>known errors</em>…</p>

<h3 id="hallway-track">Hallway track</h3>

<p>On a similar note, I had discussion with Amazon’s David Duncan in the ‘hallway track’ which started from an observation that Cloud SIG would really benefit from our passwordless work: distributing VMs with pre-set passwords is not ideal, an ability to inject FIDO2 passkey information and have everything obey it at login in cloud would be great to have. Somewhere along this way, discussion switched to CoreOS-based environments and I realised my experiments with Fedora Silverblue to develop passwordless support for FreeIPA would probably be a subject to a talk that would be interesting to others as well.</p>

<p>I am running my own Silverblue images which source SSSD and FreeIPA upstream test builds to allow me easily to switch between different potential options in one go, without messing with an installation environment. It is quite important for the integration work we do and would be crucial for end-to-end testing of upcoming GNOME changes.</p>

<p>This also provided me an insight into what container-based environments need from FreeIPA and overall from enterprise domains to fit nicely. I should have submitted a talk about that to Flock! Well, I will do one next year, for sure. (And, TODO: file issues to track for that integration to FreeIPA upstream!)</p>

<p>Another interesting discussion we had with Jonathan Dieter. Jonathan is a long term Fedora contributor and FreeIPA user. For past several years Jonathan works with a local Irish company that provides services around the world to test local phone numbers. They maintain an infrastructure in more than 80 countries where there might be no global cloud providers at all. To keep that infrastructure reliable, they use <a href="https://www.jdieter.net/posts/2021/11/30/piv-vs-sk/">FreeIPA</a> (not alone, of course) and <a href="https://www.jdieter.net/posts/2020/10/31/switching-to-ostree/">OStree-based images</a>.</p>

<h3 id="asahi-linux-and-fedora">Asahi Linux and Fedora</h3>

<p>It is one of the talks that I missed to attend in person as conflicts are inevitable: Mo Duffy’s Podman Desktop talk and Adam Williamson’s Fedora CI state talk were running at the same time.</p>

<p>Asahi Linux is a project which aims to upstream support for Apple’s ARM64 architecture, best known through Apple’s M1 and M2 systems. At the Flock Asahi Linux project members <a href="https://asahilinux.org/2023/08/fedora-asahi-remix/">have announced</a> that not only Fedora Asahi Remix will be the flagship distribution for the project, but also <a href="https://discussion.fedoraproject.org/c/neighbors/asahi/92">Fedora Discourse instance</a> will be used to handle Asahi Linux community collaborations.</p>

<p>Asahi’s announcement also an example of how friendly has become Fedora Project as a community over years. I am definitely looking forward to see the remix to become one of official builds of Fedora.</p>

<h3 id="podman-desktop-from-fedora-to-kubernetes-for-beginners">Podman desktop: from Fedora to Kubernetes for beginners</h3>

<p>Mo Duffy gave an outstanding talk about using Podman desktop to deliver workloads for non-technical people. It was a highlight of the conference, for sure. She also made few interesting points. For one, running cloud-based workloads locally to allow offline operations is nice. Mo demonstrated a <a href="https://blog.linuxgrrl.com/2022/01/19/running-penpot-locally-docker-free-with-podman/">Penpot instance</a>, which is a design and prototyping application. Running it locally helps to maintain the same workflow while on an intercontinental flight. However, even more interesting is that this approach also allows to use a cloud software that otherwise is considered insecure. For example, running a Wordpress setup locally to benefit from its nice UI in a local browser and export static web site content to push to the actual web hosting.</p>

<p>By lowering a barrier to use containerised applications through Podman Desktop we may hope to get more people join our community and contribute. Starting with Podman Desktop’s friendliness would allow these newcomers to discover other Fedora flavors and features. It is certainly an interesting aspect we could expand further in a way similar how this ‘F’ in Fedora got expanded in Mo’s presentation.</p>

<p><img src="https://vda.li/en/img/resized/2023-flock/podmandesktop-1-800-ecc520d5f.jpg" /></p>

<h3 id="panel-upstream-collaboration--cooperation-in-the-enterprise-linux-ecosystem">Panel: Upstream collaboration &amp; cooperation in the Enterprise Linux ecosystem</h3>

<p>Another conference highlight was the panel that brought representatives of Fedora, RHEL, Rocky Linux, Alma Linux, and CentOS Stream together on stage. Distributions upstream and downstream of RHEL presented their views on various development and community topics. It is worth to <a href="https://www.youtube.com/watch?v=r9iy9f80nic&t=24804s">watch the stream</a>.</p>

<h3 id="state-of-epel">State of EPEL</h3>

<p>Trow Dawson and Carl George did present another state of EPEL. EPEL has a solid contributors’ base who keep thousands of packages available to RHEL and downstream distributions’ users. EPEL is using Fedora infrastructure and for many packages it shares maintainers with Fedora (EPEL branches are branches in Fedora dist-git for the same package, if this package is not in RHEL). So all EPEL contributors are Fedora contributors. ;)</p>

<p>One interesting aspect in every “State of EPEL” talk is a long tail of the EPEL demographics. Much like “State of Fedora” shows demographics of Fedora releases, EPEL statistics includes details on who is running the lowest number of downstream systems:</p>

<p><img src="https://vda.li/en/img/resized/2023-flock/epelstate-1-800-5bf2b26ad.jpg" /></p>

<h3 id="passwordless-fedora">Passwordless Fedora</h3>

<p>My talk was on the morning of the second day. People were still recovering from the night of International Candy Swap and table games so at start I had may be a couple of attendies. Eventually, we’ve got more people in the room and there were also online attendees so it wasn’t so feeling so lonely.</p>

<p><a href="https://www.youtube.com/watch?v=GkYURkrIzx0&t=3226s">My talk</a> was similar to previous ones at FOSDEM and SambaXP. What was new is a demo from Ray Strode on how potentially a user experience could look like in GNOME for a passwordless login. Ray implemented a prototype of external identity provider login flow that Allan Day <a href="https://gitlab.gnome.org/Teams/Design/os-mockups/-/issues/220">has shared recently</a>. This flow could be used for login through Microsoft’s Entra ID (a.k.a. Azure AD) or any OAuth2 provider supported by FreeIPA. We aren’t fully there yet but the goal is to do this work once for GNOME and reuse for various passwordless authentication approaches supported through SSSD.</p>

<p>I also showed an <a href="https://youtu.be/zK2FmP0j6tY">old demo</a> from my FOSDEM and Flock 2016. It shows how we integrated 2FA tokens (Yubikeys in this example) with FreeIPA to authenticate and obtain Kerberos tickets through a KDC proxy over HTTPS. These tickets then were used to login onto a VPN. This is something that is possible in Fedora and RHEL for almost a decade now.</p>

<h3 id="openqa-hacking">OpenQA hacking</h3>

<p>Before Flock, Adam Williamson started to work on integrating Samba AD tests into OpenQA for Fedora. It almost worked well but there were few issues Adam wasn’t able to resolve so we set down at the Flock and figured out at least few of those. The only remaining one was an apparent race condition within a test that enrolls a system to Samba AD using kickstart. SSSD, it seems, starts before networking is up and stable, and decides that it is offline. When the test tries to resolve an Active Directory user, SSSD fails to do so as it thinks to be offline.</p>

<p>Interestingly, the same test against FreeIPA works fine. The same test done past kickstart works fine as well, for both FreeIPA and Samba AD. There is probably a need to add a waiting period to settle a network state. We saw this in past too but never found a good way to trigger a proper event for SSSD to recover.</p>

<h3 id="social-events">Social events</h3>

<p>I am trying to reduce candy consumption so I skipped the social events on the first day but attended the conference dinner on the second day. All social events during the Flock well organized and this one wasn’t exception either. We had interesting discussions with Fedora and Rocky folks, getting to know there is a lot of similarity in how people do their lives across the world.</p>

<p>On Friday’s night another social event was a Ghost Tour. However, we skipped it and together with few other people went to do a bit of memorabilia road through another Mexican place and (of course!) a local bar. Life in IT and development in 90’s and early 2000’s weren’t that much different in US and Europe, really. Thanks to Spot and Amazon for covering the dinner, thanks to other folks for beer and a company.</p>

<p>I left on Saturday at noon using the same Aircoach bus towards Dublin airport. The bus was full – make sure you have booked your seat online in advance. My flight back to Finland was uneventful as well. Overall, it was a great conference, as usual. I’d like to say thank you to all volunteers and organizers who keep Flock so wonderful and Fedora project so welcoming. Thank you!</p></div>







<p class="date">
<a href="https://vda.li/en/posts/2023/08/11/Flock-report/">August 11, 2023 10:46 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>July 26, 2023</h2>

<div class="channelgroup">







<h3><a href="https://rcritten.wordpress.com" title="Frustrations">Rob Crittenden</a></h3>


<div class="entrygroup" id="http://rcritten.wordpress.com/?p=403" lang="en">
<h4><a href="">Addressing cert-find performance</a></h4>
<div class="entry">
<div class="content">
A number of related certificate integration issues were reported and fixed. They were most visible in the WebUi where we are used to relatively snappy responses to requests but were also prominent on the command-line. The issues were that if there were a lot of certificates, say five thousand, it could take 17 seconds or &#8230; <a href="https://rcritten.wordpress.com/2023/07/26/addressing-cert-find-performance/" class="more-link">Continue reading <span class="screen-reader-text">Addressing cert-find performance</span> <span class="meta-nav">&#8594;</span></a></div>







<p class="date">
<a href="">by rcritten at July 26, 2023 03:58 PM</a>
</p>
</div>
</div>


</div>

</div>


<div class="sidebar">

<h2>Subscriptions</h2>
<ul>
<li>
<a href="http://adam.younglogic.com/category/software/freeipa,kerberos,ldap/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a>

	<a href="http://adam.younglogic.com" title="">
Adam Young	</a>
</li>
<li>
<a href="https://vda.li/en/freeipa.xml" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a>

	<a href="https://vda.li/en/" title="">
Alexander Bokovoy	</a>
</li>
<li>
<a href="https://floblanc.wordpress.com/tag/freeipa/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a>

	<a href="https://floblanc.wordpress.com" title="">
Florence Blanc-Renaud	</a>
</li>
<li>
<a href="https://frasertweedale.github.io/blog-redhat/atom.xml" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a>

	<a href="https://frasertweedale.github.io/blog-redhat" title="">
Fraser Tweedale	</a>
</li>
<li>
<a href="https://jhrozek.wordpress.com/tag/freeipa,sssd,ldap,idm/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a>

	<a href="https://jhrozek.wordpress.com" title="">
Jakub Hrozek	</a>
</li>
<li>
<a href="http://justin-stephenson.blogspot.com/feeds/posts/default?alt=rss" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a>

	<a href="http://justin-stephenson.blogspot.com/" title="">
Justin Stephenson	</a>
</li>
<li>
<a href="https://blog.delouw.ch/tag/ipa/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a>

	<span class="message" title="internal server error">
Luc de Louw	</span>
</li>
<li>
<a href="https://npmccallum.gitlab.io/index.xml" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a>

	<a href="https://npmccallum.gitlab.io/" title="">
Nathaniel McCallum	</a>
</li>
<li>
<a href="https://preichl.wordpress.com/tag/sssd/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a>

	<a href="https://preichl.wordpress.com" title="">
Pavel Reichl	</a>
</li>
<li>
<a href="http://rhelblog.redhat.com/tag/identity-management,idm/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a>

	<a href="https://www.redhat.com/en/blog/channel/red-hat-enterprise-linux" title="">
Red Hat Blog	</a>
</li>
<li>
<a href="https://richmegginson.livejournal.com/data/rss/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a>

	<a href="https://richmegginson.livejournal.com/" title="">
Rich Megginson	</a>
</li>
<li>
<a href="https://rcritten.wordpress.com/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a>

	<a href="https://rcritten.wordpress.com" title="">
Rob Crittenden	</a>
</li>
<li>
<a href="https://ssimo.org/blog/blog.atom" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a>

	<a href="https://ssimo.org/blog/" title="">
Simo Sorce	</a>
</li>
<li>
<a href="https://strikerttd.wordpress.com/tag/freeipa,sssd,ldap,idm/feed/" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a>

	<a href="https://strikerttd.wordpress.com" title="">
Striker Leggette	</a>
</li>
</ul>

<h2>Last updated</h2>
<p>
October 06, 2023 05:13 AM<br>
<em>All times are UTC.</em><br>
</p>

<h2>Meta</h2>

<ul>
<li><a href="rss20.xml" title="RSS 2.0 feed"><img src="images/feed-icon-10x10.png" alt="(feed)"> RSS 2.0</a></li>
<li><a href="atom.xml" title="Atom feed"><img src="images/feed-icon-10x10.png" alt="(feed)"> Atom</a></li>
</ul>

<h2>Related</h2>

<ul>
<li><a href="http://www.freeipa.org/">FreeIPA project</a></li>
<li><a href="http://www.fedoraproject.org/">Fedora project</a></li>
<li><a href="http://planet.fedoraproject.org/">Fedora planet</a></li>
</ul>

<h2>Hosting</h2>

<p>
<a href="https://www.openshift.com/" title="Powered by OpenShift Online">
  <img alt="Powered by OpenShift Online" src="https://www.openshift.com/images/logos/powered_by_openshift.png">
</a>
</p>
</div>

<div>
	<a href="http://www.planetplanet.org/"><img src="images/planet.png" width="80" height="15" title="Powered by Planet" alt="Powered by Planet" border="0"></a>
</div>

</body>

</html>
